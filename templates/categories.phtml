<?php require './templates/header.phtml'; ?>

<section class="bg-gray-100 py-16">
    <div class="container mx-auto px-4">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
            Categorías
        </h1>
        <p class="text-xl text-gray-600">Explora nuestra colección por categorías</p>
    </div>
</section>

<div class="container mx-auto px-4 py-12">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <?php foreach($categories as $categorie): ?>
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
                <div class="p-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4"><?= htmlspecialchars($categorie->nombre_categoria) ?></h3>
                    <div class="flex flex-wrap gap-2">
                        <a href='categorie/<?=$categorie->id_categoria?>' class="inline-block bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition-colors">Ver productos</a>
                        <?php if (isset($_SESSION['user'])): ?>
                            <a href='editCategory/<?=$categorie->id_categoria?>' class="inline-block bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors">Editar</a>
                            <form action="deleteCategorie/<?=$categorie->id_categoria?>" method="POST" class="inline-block">
                                <button type="submit" class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors">Eliminar</button>
                            </form>
                        <?php endif; ?>
                    </div>
                </div>
            </div>
        <?php endforeach; ?>
    </div>

    <?php if (isset($_SESSION['user'])): ?>
        <div class="mt-12">
            <h2 class="text-2xl font-bold text-gray-900 mb-6">Agregar Nueva Categoría</h2>
            <form action="addCategorie" method="POST" class="bg-white p-6 rounded-lg shadow-md">
                <div class="mb-4">
                    <label for="nombre_categoria" class="block text-sm font-medium text-gray-700 mb-2">TIPO DE PRENDA</label>
                    <input type="text" id="nombre_categoria" name="nombre_categoria" placeholder="Ingrese la categoría" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black">
                </div>
                <button type="submit" class="w-full bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition-colors">Agregar Categoría</button>
            </form>

        </div>
    <?php endif; ?>
</div>

<?php require './templates/footer.phtml'; ?>