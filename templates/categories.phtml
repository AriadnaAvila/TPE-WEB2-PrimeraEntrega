<?php require './templates/header.phtml'; ?>

<section class="relative bg-cover bg-center h-screen" style="background-image: url('https://wallpapers.com/images/featured/tienda-i5s6es944n29q9sp.jpg');">
    <div class="absolute inset-0 bg-black opacity-50"></div>
    <div class="container mx-auto flex items-center justify-center h-full relative z-10">
        <h1 class="text-white text-5xl md:text-6xl font-bold text-center">
            Categorías
        </h1>
    </div>
</section>

<div class="container mx-auto p-6">
    <h2 class="text-3xl font-bold text-center mb-6">Lista de Categorías</h2>
    <ul class="space-y-2">
    <?php foreach($categories as $categorie): ?>
        <li class="flex justify-between items-center p-4 bg-gray-100 rounded-lg shadow hover:bg-gray-200 transition">
            <span class="text-lg"><?= htmlspecialchars($categorie->nombre_categoria) ?></span>
            <span class="space-x-2">
                <a href='categorie/<?=$categorie->id_categoria?>' class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition">Ver productos</a>

                <?php if (isset($_SESSION['user'])): ?>
                    <a href='editCategory/<?=$categorie->id_categoria?>' class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition">Editar</a>
                    <form action="deleteCategorie/<?=$categorie->id_categoria?>" method="POST" class="inline-block">
                        <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition">Eliminar</button>
                    </form>
                <?php endif; ?>
            </span>
        </li>
    <?php endforeach; ?>
</ul>

<?php if (isset($_SESSION['user'])): ?>
    <form action="addCategorie" method="POST" class="mt-6 bg-white p-4 rounded-lg shadow">
        <div>
            <label class="block text-sm font-medium">TIPO DE PRENDA</label>
            <input type="text" name="nombre_categoria" placeholder="Ingrese la categoría" required class="mt-1 block w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-500">
        </div>
        <button type="submit" class="mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition">Agregar Categoría</button>
    </form>
<?php endif; ?>

</div>

<?php require './templates/footer.phtml'; ?>
